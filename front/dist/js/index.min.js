function Banner(){this.bannerWidth=798,this.nowIndex=0,this.prevIndex=0,this.timer=null,this.$bannerGroup=$("#banner-group"),this.$bannerLi=$("#banner-ul li"),this.len=this.$bannerLi.length,this.$leftArrow=$(".left-arrow"),this.$rightArrow=$(".right-arrow"),this.$pageControlLi=null}function Index(){this.page=2,this.category_pk=0,this.$loadBtn=$("#load-more-btn"),this.$tabGroup=$(".list-tab"),this.$newsListGroup=$(".list-inner-group")}$(function(){(new Banner).run(),(new Index).run()}),Banner.prototype.run=function(){this.initBanner(),this.loop(),this.listenPageControl(),this.listenLeftArrow(),this.listenRightArrow(),this.listenBannerHover()},Banner.prototype.initBanner=function(){var n=this;n.$bannerLi.not(":first").css({left:n.bannerWidth}),n.$bannerLi.each(function(n){var e=$("<li>");0==n&&e.addClass("active"),$("#page-control").append(e)}),n.$pageControlLi=$("#page-control li")},Banner.prototype.loop=function(){var n=this;n.timer=setInterval(function(){n.nowIndex=n.prevIndex+1,n.move()},2e3)},Banner.prototype.listenBannerHover=function(){var n=this;n.$bannerGroup.hover(function(){n.$leftArrow.show(),n.$rightArrow.show(),clearInterval(n.timer)},function(){n.$leftArrow.hide(),n.$rightArrow.hide(),n.loop()})},Banner.prototype.listenPageControl=function(){var n=this;n.$pageControlLi.click(function(){n.nowIndex=$(this).index(),n.move()})},Banner.prototype.listenLeftArrow=function(){var n=this;n.$leftArrow.click(function(){n.nowIndex=n.prevIndex-1,n.move()})},Banner.prototype.listenRightArrow=function(){var n=this;n.$rightArrow.click(function(){n.nowIndex=n.prevIndex+1,n.move()})},Banner.prototype.move=function(){var n=this;n.nowIndex<n.prevIndex?(n.nowIndex<0&&(n.nowIndex=n.len-1),n.$bannerLi.eq(n.nowIndex).css({left:-n.bannerWidth}),n.$bannerLi.eq(n.prevIndex).stop().animate({left:n.bannerWidth})):n.nowIndex>n.prevIndex&&(n.nowIndex>n.len-1&&(n.nowIndex=0),n.$bannerLi.eq(n.nowIndex).css({left:n.bannerWidth}),n.$bannerLi.eq(n.prevIndex).stop().animate({left:-n.bannerWidth})),n.$bannerLi.eq(n.nowIndex).stop().animate({left:0}),n.$pageControlLi.eq(n.nowIndex).addClass("active").siblings().removeClass("active"),n.prevIndex=n.nowIndex},Index.prototype.run=function(){this.listenLoadMoreEvent(),this.listenCategorySwitchEvent()},Index.prototype.listenLoadMoreEvent=function(){var r=this;r.$loadBtn.click(function(){xfzajax.get({url:"/news/list/",data:{category_pk:r.category_pk,p:r.page},success:function(n){if(200==n.code){var e=n.data;if(0<e.length){var t=template("news-item",{newses:e});r.$newsListGroup.append(t),r.page++}else r.$loadBtn.hide()}}})})},Index.prototype.listenCategorySwitchEvent=function(){var r=this;r.$tabGroup.children().click(function(){r.category_pk=$(this).attr("data-category"),$(this).addClass("active").siblings().removeClass("active"),r.$newsListGroup.empty(),xfzajax.get({url:"/news/list/",data:{category_pk:r.category_pk,p:1},success:function(n){if(200==n.code){var e=n.data,t=template("news-item",{newses:e});r.$newsListGroup.append(t),r.$loadBtn.show(),r.page=2}}})})};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIkJhbm5lciIsInRoaXMiLCJiYW5uZXJXaWR0aCIsIm5vd0luZGV4IiwicHJldkluZGV4IiwidGltZXIiLCIkYmFubmVyR3JvdXAiLCIkIiwiJGJhbm5lckxpIiwibGVuIiwibGVuZ3RoIiwiJGxlZnRBcnJvdyIsIiRyaWdodEFycm93IiwiJHBhZ2VDb250cm9sTGkiLCJJbmRleCIsInBhZ2UiLCJjYXRlZ29yeV9wayIsIiRsb2FkQnRuIiwiJHRhYkdyb3VwIiwiJG5ld3NMaXN0R3JvdXAiLCJydW4iLCJwcm90b3R5cGUiLCJpbml0QmFubmVyIiwibG9vcCIsImxpc3RlblBhZ2VDb250cm9sIiwibGlzdGVuTGVmdEFycm93IiwibGlzdGVuUmlnaHRBcnJvdyIsImxpc3RlbkJhbm5lckhvdmVyIiwic2VsZiIsIm5vdCIsImNzcyIsImxlZnQiLCJlYWNoIiwiaW5kZXgiLCIkdGVtcExpIiwiYWRkQ2xhc3MiLCJhcHBlbmQiLCJzZXRJbnRlcnZhbCIsIm1vdmUiLCJob3ZlciIsInNob3ciLCJjbGVhckludGVydmFsIiwiaGlkZSIsImNsaWNrIiwiZXEiLCJzdG9wIiwiYW5pbWF0ZSIsInNpYmxpbmdzIiwicmVtb3ZlQ2xhc3MiLCJsaXN0ZW5Mb2FkTW9yZUV2ZW50IiwibGlzdGVuQ2F0ZWdvcnlTd2l0Y2hFdmVudCIsInhmemFqYXgiLCJnZXQiLCJ1cmwiLCJkYXRhIiwicCIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJuZXdzZXMiLCJ0cGwiLCJ0ZW1wbGF0ZSIsImNoaWxkcmVuIiwiYXR0ciIsImVtcHR5Il0sIm1hcHBpbmdzIjoiQUFNQSxTQUFTQSxTQUNMQyxLQUFLQyxZQUFZLElBQ2pCRCxLQUFLRSxTQUFTLEVBQ2RGLEtBQUtHLFVBQVUsRUFDZkgsS0FBS0ksTUFBTSxLQUNYSixLQUFLSyxhQUFhQyxFQUFFLGlCQUNwQk4sS0FBS08sVUFBVUQsRUFBRSxpQkFDakJOLEtBQUtRLElBQUlSLEtBQUtPLFVBQVVFLE9BQ3hCVCxL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L0IsRUFBS1gsU0FBU3VCLE9BQ2RaLEVBQUtiLEtBQUsiLCJmaWxlIjoiaW5kZXgubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJChmdW5jdGlvbigpe1xuICAgIHZhciBiYW5uZXI9bmV3IEJhbm5lcigpO1xuICAgIGJhbm5lci5ydW4oKTtcbiAgICB2YXIgaW5kZXg9bmV3IEluZGV4KCk7XG4gICAgaW5kZXgucnVuKCk7XG59KTtcbmZ1bmN0aW9uIEJhbm5lcigpe1xuICAgIHRoaXMuYmFubmVyV2lkdGg9Nzk4O1xuICAgIHRoaXMubm93SW5kZXg9MDtcbiAgICB0aGlzLnByZXZJbmRleD0wO1xuICAgIHRoaXMudGltZXI9bnVsbDtcbiAgICB0aGlzLiRiYW5uZXJHcm91cD0kKFwiI2Jhbm5lci1ncm91cFwiKTtcbiAgICB0aGlzLiRiYW5uZXJMaT0kKFwiI2Jhbm5lci11bCBsaVwiKTtcbiAgICB0aGlzLmxlbj10aGlzLiRiYW5uZXJMaS5sZW5ndGg7XG4gICAgdGhpcy4kbGVmdEFycm93PSQoXCIubGVmdC1hcnJvd1wiKTtcbiAgICB0aGlzLiRyaWdodEFycm93PSQoXCIucmlnaHQtYXJyb3dcIik7XG4gICAgdGhpcy4kcGFnZUNvbnRyb2xMaT1udWxsO1xufTtcbkJhbm5lci5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7XG4gICAgdGhpcy5pbml0QmFubmVyKCk7XG4gICAgdGhpcy5sb29wKCk7XG4gICAgdGhpcy5saXN0ZW5QYWdlQ29udHJvbCgpO1xuICAgIHRoaXMubGlzdGVuTGVmdEFycm93KCk7XG4gICAgdGhpcy5saXN0ZW5SaWdodEFycm93KCk7XG4gICAgdGhpcy5saXN0ZW5CYW5uZXJIb3ZlcigpO1xufTtcbkJhbm5lci5wcm90b3R5cGUuaW5pdEJhbm5lcj1mdW5jdGlvbigpe1xuICAgIHZhciBzZWxmPXRoaXM7XG4gICAgc2VsZi4kYmFubmVyTGkubm90KFwiOmZpcnN0XCIpLmNzcyh7XCJsZWZ0XCI6c2VsZi5iYW5uZXJXaWR0aH0pO1xuICAgIHNlbGYuJGJhbm5lckxpLmVhY2goZnVuY3Rpb24oaW5kZXgpe1xuICAgICAgICB2YXIgJHRlbXBMaT0kKFwiPGxpPlwiKTtcbiAgICAgICAgaWYoaW5kZXg9PTApe1xuICAgICAgICAgICAgJHRlbXBMaS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgfVxuICAgICAgICAkKFwiI3BhZ2UtY29udHJvbFwiKS5hcHBlbmQoJHRlbXBMaSk7XG4gICAgfSk7XG4gICAgc2VsZi4kcGFnZUNvbnRyb2xMaT0kKFwiI3BhZ2UtY29udHJvbCBsaVwiKTtcbn07XG5CYW5uZXIucHJvdG90eXBlLmxvb3A9ZnVuY3Rpb24oKXtcbiAgICB2YXIgc2VsZj10aGlzO1xuICAgIHNlbGYudGltZXI9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtcbiAgICAgICAgc2VsZi5ub3dJbmRleD1zZWxmLnByZXZJbmRleCsxO1xuICAgICAgICBzZWxmLm1vdmUoKTtcbiAgICB9LDIwMDApO1xufTtcbkJhbm5lci5wcm90b3R5cGUubGlzdGVuQmFubmVySG92ZXI9ZnVuY3Rpb24oKXtcbiAgICB2YXIgc2VsZj10aGlzO1xuICAgIHNlbGYuJGJhbm5lckdyb3VwLmhvdmVyKGZ1bmN0aW9uKCl7XG4gICAgICAgIHNlbGYuJGxlZnRBcnJvdy5zaG93KCk7XG4gICAgICAgIHNlbGYuJHJpZ2h0QXJyb3cuc2hvdygpO1xuICAgICAgICBjbGVhckludGVydmFsKHNlbGYudGltZXIpO1xuICAgIH0sZnVuY3Rpb24oKXtcbiAgICAgICAgc2VsZi4kbGVmdEFycm93LmhpZGUoKTtcbiAgICAgICAgc2VsZi4kcmlnaHRBcnJvdy5oaWRlKCk7XG4gICAgICAgIHNlbGYubG9vcCgpO1xuICAgIH0pO1xufTtcbkJhbm5lci5wcm90b3R5cGUubGlzdGVuUGFnZUNvbnRyb2w9ZnVuY3Rpb24oKXtcbiAgICB2YXIgc2VsZj10aGlzO1xuICAgIHNlbGYuJHBhZ2VDb250cm9sTGkuY2xpY2soZnVuY3Rpb24oKXtcbiAgICAgICAgc2VsZi5ub3dJbmRleD0kKHRoaXMpLmluZGV4KCk7XG4gICAgICAgIHNlbGYubW92ZSgpO1xuICAgIH0pO1xufTtcbkJhbm5lci5wcm90b3R5cGUubGlzdGVuTGVmdEFycm93PWZ1bmN0aW9uKCl7XG4gICAgdmFyIHNlbGY9dGhpcztcbiAgICBzZWxmLiRsZWZ0QXJyb3cuY2xpY2soZnVuY3Rpb24oKXtcbiAgICAgICAgc2VsZi5ub3dJbmRleD1zZWxmLnByZXZJbmRleC0xO1xuICAgICAgICBzZWxmLm1vdmUoKTtcbiAgICB9KTtcbn07XG5CYW5uZXIucHJvdG90eXBlLmxpc3RlblJpZ2h0QXJyb3c9ZnVuY3Rpb24oKXtcbiAgICB2YXIgc2VsZj10aGlzO1xuICAgIHNlbGYuJHJpZ2h0QXJyb3cuY2xpY2soZnVuY3Rpb24oKXtcbiAgICAgICAgc2VsZi5ub3dJbmRleD1zZWxmLnByZXZJbmRleCsxO1xuICAgICAgICBzZWxmLm1vdmUoKTtcbiAgICB9KTtcbn07XG5CYW5uZXIucHJvdG90eXBlLm1vdmU9ZnVuY3Rpb24oKXtcbiAgICB2YXIgc2VsZj10aGlzO1xuICAgIGlmKHNlbGYubm93SW5kZXg8c2VsZi5wcmV2SW5kZXgpe1xuICAgICAgICBpZihzZWxmLm5vd0luZGV4PDApe1xuICAgICAgICAgICAgc2VsZi5ub3dJbmRleD1zZWxmLmxlbi0xO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYuJGJhbm5lckxpLmVxKHNlbGYubm93SW5kZXgpLmNzcyh7XCJsZWZ0XCI6LXNlbGYuYmFubmVyV2lkdGh9KTtcbiAgICAgICAgc2VsZi4kYmFubmVyTGkuZXEoc2VsZi5wcmV2SW5kZXgpLnN0b3AoKS5hbmltYXRlKHtcImxlZnRcIjpzZWxmLmJhbm5lcldpZHRofSk7XG4gICAgfWVsc2UgaWYoc2VsZi5ub3dJbmRleD5zZWxmLnByZXZJbmRleCl7XG4gICAgICAgIGlmKHNlbGYubm93SW5kZXg+c2VsZi5sZW4tMSl7XG4gICAgICAgICAgICBzZWxmLm5vd0luZGV4PTA7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi4kYmFubmVyTGkuZXEoc2VsZi5ub3dJbmRleCkuY3NzKHtcImxlZnRcIjpzZWxmLmJhbm5lcldpZHRofSk7XG4gICAgICAgIHNlbGYuJGJhbm5lckxpLmVxKHNlbGYucHJldkluZGV4KS5zdG9wKCkuYW5pbWF0ZSh7XCJsZWZ0XCI6LXNlbGYuYmFubmVyV2lkdGh9KTtcbiAgICB9XG4gICAgc2VsZi4kYmFubmVyTGkuZXEoc2VsZi5ub3dJbmRleCkuc3RvcCgpLmFuaW1hdGUoe1wibGVmdFwiOjB9KTtcbiAgICBzZWxmLiRwYWdlQ29udHJvbExpLmVxKHNlbGYubm93SW5kZXgpLmFkZENsYXNzKFwiYWN0aXZlXCIpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgc2VsZi5wcmV2SW5kZXg9c2VsZi5ub3dJbmRleDtcbn07XG5mdW5jdGlvbiBJbmRleCgpe1xuICAgIHRoaXMucGFnZT0yO1xuICAgIHRoaXMuY2F0ZWdvcnlfcGsgPSAwO1xuICAgIHRoaXMuJGxvYWRCdG49JChcIiNsb2FkLW1vcmUtYnRuXCIpO1xuICAgIHRoaXMuJHRhYkdyb3VwPSQoXCIubGlzdC10YWJcIik7XG4gICAgdGhpcy4kbmV3c0xpc3RHcm91cD0kKFwiLmxpc3QtaW5uZXItZ3JvdXBcIik7XG59O1xuSW5kZXgucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpe1xuICAgIHRoaXMubGlzdGVuTG9hZE1vcmVFdmVudCgpOyAgICBcbiAgICB0aGlzLmxpc3RlbkNhdGVnb3J5U3dpdGNoRXZlbnQoKTtcbn07XG5JbmRleC5wcm90b3R5cGUubGlzdGVuTG9hZE1vcmVFdmVudD1mdW5jdGlvbigpe1xuICAgIHZhciBzZWxmPXRoaXM7XG4gICAgc2VsZi4kbG9hZEJ0bi5jbGljayhmdW5jdGlvbigpe1xuICAgICAgICB4ZnphamF4LmdldCh7XG4gICAgICAgICAgICBcInVybFwiOiBcIi9uZXdzL2xpc3QvXCIsXG4gICAgICAgICAgICBcImRhdGFcIjoge1xuICAgICAgICAgICAgICAgIFwiY2F0ZWdvcnlfcGtcIjogc2VsZi5jYXRlZ29yeV9wayxcbiAgICAgICAgICAgICAgICBcInBcIjogc2VsZi5wYWdlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJzdWNjZXNzXCI6IGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgICAgICAgICAgICAgaWYocmVzdWx0W1wiY29kZVwiXT09MjAwKXtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld3Nlcz1yZXN1bHRbXCJkYXRhXCJdO1xuICAgICAgICAgICAgICAgICAgICBpZihuZXdzZXMubGVuZ3RoPjApe1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRwbD10ZW1wbGF0ZShcIm5ld3MtaXRlbVwiLCB7XCJuZXdzZXNcIjogbmV3c2VzfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLiRuZXdzTGlzdEdyb3VwLmFwcGVuZCh0cGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wYWdlKys7XG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi4kbG9hZEJ0bi5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufTtcbkluZGV4LnByb3RvdHlwZS5saXN0ZW5DYXRlZ29yeVN3aXRjaEV2ZW50PWZ1bmN0aW9uKCl7XG4gICAgdmFyIHNlbGY9dGhpcztcbiAgICBzZWxmLiR0YWJHcm91cC5jaGlsZHJlbigpLmNsaWNrKGZ1bmN0aW9uKCl7XG4gICAgICAgIHNlbGYuY2F0ZWdvcnlfcGs9JCh0aGlzKS5hdHRyKFwiZGF0YS1jYXRlZ29yeVwiKTsgXG4gICAgICAgICQodGhpcykuYWRkQ2xhc3MoXCJhY3RpdmVcIikuc2libGluZ3MoKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgc2VsZi4kbmV3c0xpc3RHcm91cC5lbXB0eSgpO1xuICAgICAgICB4ZnphamF4LmdldCh7XG4gICAgICAgICAgICBcInVybFwiOiBcIi9uZXdzL2xpc3QvXCIsXG4gICAgICAgICAgICBcImRhdGFcIjoge1xuICAgICAgICAgICAgICAgIFwiY2F0ZWdvcnlfcGtcIjogc2VsZi5jYXRlZ29yeV9wayxcbiAgICAgICAgICAgICAgICBcInBcIjogMVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwic3VjY2Vzc1wiOiBmdW5jdGlvbihyZXN1bHQpe1xuICAgICAgICAgICAgICAgIGlmKHJlc3VsdFtcImNvZGVcIl09PTIwMCl7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdzZXM9cmVzdWx0W1wiZGF0YVwiXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRwbD10ZW1wbGF0ZShcIm5ld3MtaXRlbVwiLCB7XCJuZXdzZXNcIjogbmV3c2VzfSk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuJG5ld3NMaXN0R3JvdXAuYXBwZW5kKHRwbCk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuJGxvYWRCdG4uc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnBhZ2U9MjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufTtcbiJdfQ==
