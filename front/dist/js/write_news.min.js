function News(){News.$progressGroup=$("#progress-group"),News.$progressBar=News.$progressGroup.find(".progress-bar"),News.$thumbnailInput=$("#thumbnail-form"),this.$ue=UE.getEditor("editor",{initialFrameHeight:400,serverUrl:"/ueditor/upload/"})}$(function(){(new News).run()}),News.prototype.run=function(){this.listenQiniuUploadFileEvent(),this.listenSubmitEvent()},News.prototype.listenUploadFileEvent=function(){var o=$("#thumbnail-btn");o.change(function(){var e=o[0].files[0],t=new FormData;t.append("file",e),xfzajax.post({url:"/cms/upload_file/",data:t,processData:!1,contentType:!1,success:function(e){if(200==e.code){var t=e.data.url;News.$thumbnailInput.val(t)}}})})},News.prototype.listenQiniuUploadFileEvent=function(){var i=this;$("#thumbnail-btn").change(function(){var r=this.files[0];xfzajax.get({url:"/cms/qntoken/",success:function(e){if(200==e.code){var t=e.data.token,o=(new Date).getTime()+"."+r.name.split(".")[1],s={fname:o,params:{},mimeType:["image/gif","image/png","image/jpeg","image/bmp","image/webp"]},n={useCdnDomain:!0,retryCount:6,region:qiniu.region.z2};qiniu.upload(r,o,t,s,n).subscribe({next:i.handleFileUploadProgress,error:i.handleFileUploadError,complete:i.handleFileUploadComplete})}}})})},News.prototype.listenSubmitEvent=function(){var a=this;$("#submit-btn").click(function(e){e.preventDefault();var t=$("#title-form").val(),o=$("#category-form").val(),s=$("#desc-form").val(),n=$("#thumbnail-form").val(),r=a.$ue.getContent(),i=$(this).attr("data-news-id");url=i?"/cms/edit_news/":"/cms/write_news/",xfzajax.post({url:url,data:{title:t,category_pk:o,desc:s,thumbnail:n,content:r,news_pk:i},success:function(e){200==e.code&&(i?xfzalert.alertSuccess("新闻修改成功",function(){window.location.href="/cms/news_list/"}):xfzalert.alertSuccess("新闻发布成功",function(){window.location.reload()}))}})})},News.prototype.handleFileUploadProgress=function(e){var t=e.total.percent.toFixed(0)+"%";News.$progressGroup.show(),News.$progressBar.css({width:t}),News.$progressBar.text(t)},News.prototype.handleFileUploadError=function(e){window.messageBox.showError(e.message),News.$progressGroup.hide()},News.prototype.handleFileUploadComplete=function(e){News.$progressGroup.hide(),News.$progressBar.css({width:0}),News.$progressBar.text(0);var t="pimlatbwn.bkt.clouddn.com/"+e.key;News.$thumbnailInput.val(t)};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndyaXRlX25ld3MuanMiXSwibmFtZXMiOlsiTmV3cyIsIiRwcm9ncmVzc0dyb3VwIiwiJCIsIiRwcm9ncmVzc0JhciIsImZpbmQiLCIkdGh1bWJuYWlsSW5wdXQiLCJ0aGlzIiwiJHVlIiwiVUUiLCJnZXRFZGl0b3IiLCJpbml0aWFsRnJhbWVIZWlnaHQiLCJzZXJ2ZXJVcmwiLCJydW4iLCJwcm90b3R5cGUiLCJsaXN0ZW5RaW5pdVVwbG9hZEZpbGVFdmVudCIsImxpc3RlblN1Ym1pdEV2ZW50IiwibGlzdGVuVXBsb2FkRmlsZUV2ZW50IiwiJHVwbG9hZEJ0biIsImNoYW5nZSIsImZpbGUiLCJmaWxlcyIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJhcHBlbmQiLCJ4ZnphamF4IiwicG9zdCIsInVybCIsImRhdGEiLCJwcm9jZXNzRGF0YSIsImNvbnRlbnRUeXBlIiwic3VjY2VzcyIsInJlc3VsdCIsInZhbCIsInNlbGYiLCJnZXQiLCJ0b2tlbiIsImtleSIsIkRhdGUiLCJnZXRUaW1lIiwibmFtZSIsInNwbGl0IiwicHV0RXh0cmEiLCJmbmFtZSIsInBhcmFtcyIsIm1pbWVUeXBlIiwiY29uZmlnIiwidXNlQ2RuRG9tYWluIiwicmV0cnlDb3VudCIsInJlZ2lvbiIsInFpbml1IiwiejIiLCJ1cGxvYWQiLCJzdWJzY3JpYmUiLCJuZXh0IiwiaGFuZGxlRmlsZVVwbG9hZFByb2dyZXNzIiwiZXJyb3IiLCJoYW5kbGVGaWxlVXBsb2FkRXJyb3IiLCJjb21wbGV0ZSIsImhhbmRsZUZpbGVVcGxvYWRDb21wbGV0ZSIsImNsaWNrIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsInRpdGxlIiwiY2F0ZWdvcnlfcGsiLCJkZXNjIiwidGh1bWJuYWlsIiwiY29udGVudCIsImdldENvbnRlbnQiLCJuZXdzX3BrIiwiYXR0ciIsInhmemFsZXJ0IiwiYWxlcnRTdWNjZXNzIiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwicmVsb2FkIiwicmVzcG9uc2UiLCJwZXJjZW50IiwidG90YWwiLCJ0b0ZpeGVkIiwic2hvdyIsImNzcyIsIndpZHRoIiwidGV4dCIsIm1lc3NhZ2VCb3giLCJzaG93RXJyb3IiLCJtZXNzYWdlIiwiaGlkZSJdLCJtYXBwaW5ncyI6IkFBSUEsU0FBU0EsT0FDTEEsS0FBS0MsZUFBZUMsRUFBRSxtQkFDdEJGLEtBQUtHLGFBQWFILEtBQUtDLGVBQWVHLEtBQUssaUJBQzNDSixLQUFLSyxnQkFBZ0JILEVBQUUsbUJBQ3ZCSSxLQUFLQyxJQUFJQyxHQUFHQyxVQUNSLFNBQ0EsQ0FDSUMsbUJBQXNCLElBQ3RCQyxVQUFhLHFCQVp6QlQsRUFBRSxZQUNXLElBQUlGLE1BQ1JZLFFBY1RaLEtBQUthLFVBQVVELElBQUksV0FDTk4sS0FFSlEsNkJBRklSLEtBR0pTLHFCQUVUZixLQUFLYSxVQUFVRyxzQkFBc0IsV0FFakMsSUFBSUMsRUFBV2YsRUFBRSxrQkFDakJlLEVBQVdDLE9BQU8sV0FDZCxJQUFJQyxFQUFLRixFQUFXLEdBQUdHLE1BQU0sR0FDekJDLEVBQVMsSUFBSUMsU0FDakJELEVBQVNFLE9BQU8sT0FBUUosR0FDeEJLLFFBQVFDLEtBQUssQ0FDVEMsSUFBTyxvQkFDUEMsS0FBUU4sRUFDUk8sYUFBZSxFQUNmQyxhQUFlLEVBQ2ZDLFFBQVcsU0FBU0MsR0FDaEIsR0FBbUIsS0FBaEJBLEVBQWEsS0FBTyxDQUNuQixJQUFJTCxFQUFJSyxFQUFhLEtBQU8sSUFDNUIvQixLQUFLSyxnQkFBZ0IyQixJQUFJTixVQU03QzFCLEtBQUthLFVBQVVDLDJCQUEyQixXQUN0QyxJQUFJbUIsRUFBSzNCLEtBQ01KLEVBQUUsa0JBQ05nQixPQUFPLFdBQ2QsSUFBSUMsRUFBS2IsS0FBS2MsTUFBTSxHQUNwQkksUUFBUVUsSUFBSSxDQUNSUixJQUFPLGdCQUNQSSxRQUFXLFNBQVNDLEdBQ2hCLEdBQW1CLEtBQWhCQSxFQUFhLEtBQU8sQ0FDbkIsSUFBSUksRUFBTUosRUFBYSxLQUFTLE1BQzVCSyxHQUFJLElBQUtDLE1BQVFDLFVBQVUsSUFBSW5CLEVBQUtvQixLQUFLQyxNQUFNLEtBQUssR0FDcERDLEVBQVMsQ0FDVEMsTUFBT04sRUFDUE8sT0FBUSxHQUNSQyxTQUFVLENBQUMsWUFBYSxZQUFhLGFBQWMsWUFBYSxlQUVoRUMsRUFBTyxDQUNQQyxjQUFjLEVBQ2RDLFdBQVksRUFDWkMsT0FBUUMsTUFBTUQsT0FBT0UsSUFFVkQsTUFBTUUsT0FBT2hDLEVBQU1pQixFQUFLRCxFQUFPTSxFQUFVSSxHQUM3Q08sVUFBVSxDQUNiQyxLQUFRcEIsRUFBS3FCLHlCQUNiQyxNQUFTdEIsRUFBS3VCLHNCQUNkQyxTQUFZeEIsRUFBS3lCLGtDQU83QzFELEtBQUthLFVBQVVFLGtCQUFrQixXQUM3QixJQUFJa0IsRUFBSzNCLEtBQ01KLEVBQUUsZUFDTnlELE1BQU0sU0FBU0MsR0FDdEJBLEVBQU1DLGlCQUNOLElBQUlDLEVBQU01RCxFQUFFLGVBQWU4QixNQUN2QitCLEVBQVk3RCxFQUFFLGtCQUFrQjhCLE1BQ2hDZ0MsRUFBSzlELEVBQUUsY0FBYzhCLE1BQ3JCaUMsRUFBVS9ELEVBQUUsbUJBQW1COEIsTUFDL0JrQyxFQUFRakMsRUFBSzFCLElBQUk0RCxhQUNqQkMsRUFBUWxFLEVBQUVJLE1BQU0rRCxLQUFLLGdCQUVyQjNDLElBREQwQyxFQUNLLGtCQUVBLG1CQUVSNUMsUUFBUUMsS0FBSyxDQUNUQyxJQUFPQSxJQUNQQyxLQUFRLENBQ0ptQyxNQUFTQSxFQUNUQyxZQUFlQSxFQUNmQyxLQUFRQSxFQUNSQyxVQUFhQSxFQUNiQyxRQUFXQSxFQUNYRSxRQUFXQSxHQUVmdEMsUUFBVyxTQUFTQyxHQUNHLEtBQWhCQSxFQUFhLE9BQ1RxQyxFQUNDRSxTQUFTQyxhQUFhLFNBQVMsV0FDM0JDLE9BQU9DLFNBQVNDLEtBQUssb0JBR3pCSixTQUFTQyxhQUFhLFNBQVMsV0FDdkJDLE9BQU9DLFNBQVNFLGtCQVFoRDNFLEtBQUthLFVBQVV5Qyx5QkFBeUIsU0FBU3NCLEdBQzdDLElBQ0lDLEVBRE1ELEVBQVNFLE1BQ0RELFFBQVFFLFFBQVEsR0FBRyxJQUNyQy9FLEtBQUtDLGVBQWUrRSxPQUNwQmhGLEtBQUtHLGFBQWE4RSxJQUFJLENBQUNDLE1BQVNMLElBQ2hDN0UsS0FBS0csYUFBYWdGLEtBQUtOLElBRTNCN0UsS0FBS2EsVUFBVTJDLHNCQUFzQixTQUFTRCxHQUMxQ2lCLE9BQU9ZLFdBQVdDLFVBQVU5QixFQUFNK0IsU0FDbEN0RixLQUFLQyxlQUFlc0YsUUFFeEJ2RixLQUFLYSxVQUFVNkMseUJBQXlCLFNBQVNrQixHQUM3QzVFLEtBQUtDLGVBQWVzRixPQUNwQnZGLEtBQUtHLGFBQWE4RSxJQUFJLENBQUNDLE1BQVMsSUFDaENsRixLQUFLRyxhQUFhZ0YsS0FBSyxHQUN2QixJQUVJekQsRUFGTyw2QkFDRWtELEVBQVN4QyxJQUV0QnBDLEtBQUtLLGdCQUFnQjJCLElBQUlOIiwiZmlsZSI6IndyaXRlX25ld3MubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJChmdW5jdGlvbigpe1xuICAgIHZhciBuZXdzPW5ldyBOZXdzKCk7XG4gICAgbmV3cy5ydW4oKTtcbn0pO1xuZnVuY3Rpb24gTmV3cygpe1xuICAgIE5ld3MuJHByb2dyZXNzR3JvdXA9JChcIiNwcm9ncmVzcy1ncm91cFwiKTtcbiAgICBOZXdzLiRwcm9ncmVzc0Jhcj1OZXdzLiRwcm9ncmVzc0dyb3VwLmZpbmQoXCIucHJvZ3Jlc3MtYmFyXCIpO1xuICAgIE5ld3MuJHRodW1ibmFpbElucHV0PSQoXCIjdGh1bWJuYWlsLWZvcm1cIik7XG4gICAgdGhpcy4kdWU9VUUuZ2V0RWRpdG9yKFxuICAgICAgICBcImVkaXRvclwiLFxuICAgICAgICB7XG4gICAgICAgICAgICBcImluaXRpYWxGcmFtZUhlaWdodFwiOiA0MDAsXG4gICAgICAgICAgICBcInNlcnZlclVybFwiOiBcIi91ZWRpdG9yL3VwbG9hZC9cIlxuICAgICAgICB9XG4gICAgKTtcbn07XG5OZXdzLnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oKXtcbiAgICB2YXIgc2VsZj10aGlzO1xuICAgIC8vc2VsZi5saXN0ZW5VcGxvYWRGaWxlRXZlbnQoKTtcbiAgICBzZWxmLmxpc3RlblFpbml1VXBsb2FkRmlsZUV2ZW50KCk7XG4gICAgc2VsZi5saXN0ZW5TdWJtaXRFdmVudCgpO1xufTtcbk5ld3MucHJvdG90eXBlLmxpc3RlblVwbG9hZEZpbGVFdmVudD1mdW5jdGlvbigpe1xuICAgIC8vIOS4iuS8oOaWh+S7tuWIsOacrOWcsOacjeWKoeWZqFxuICAgIHZhciAkdXBsb2FkQnRuPSQoXCIjdGh1bWJuYWlsLWJ0blwiKTsgXG4gICAgJHVwbG9hZEJ0bi5jaGFuZ2UoZnVuY3Rpb24oKXtcbiAgICAgICAgdmFyIGZpbGU9JHVwbG9hZEJ0blswXS5maWxlc1swXTtcbiAgICAgICAgdmFyIGZvcm1EYXRhPW5ldyBGb3JtRGF0YSgpO1xuICAgICAgICBmb3JtRGF0YS5hcHBlbmQoXCJmaWxlXCIsIGZpbGUpO1xuICAgICAgICB4ZnphamF4LnBvc3Qoe1xuICAgICAgICAgICAgXCJ1cmxcIjogXCIvY21zL3VwbG9hZF9maWxlL1wiLFxuICAgICAgICAgICAgXCJkYXRhXCI6IGZvcm1EYXRhLFxuICAgICAgICAgICAgXCJwcm9jZXNzRGF0YVwiOiBmYWxzZSxcbiAgICAgICAgICAgIFwiY29udGVudFR5cGVcIjogZmFsc2UsXG4gICAgICAgICAgICBcInN1Y2Nlc3NcIjogZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAgICAgICAgICAgICBpZihyZXN1bHRbXCJjb2RlXCJdPT0yMDApe1xuICAgICAgICAgICAgICAgICAgICB2YXIgdXJsPXJlc3VsdFtcImRhdGFcIl1bXCJ1cmxcIl07XG4gICAgICAgICAgICAgICAgICAgIE5ld3MuJHRodW1ibmFpbElucHV0LnZhbCh1cmwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSlcbn07XG5OZXdzLnByb3RvdHlwZS5saXN0ZW5RaW5pdVVwbG9hZEZpbGVFdmVudD1mdW5jdGlvbigpe1xuICAgIHZhciBzZWxmPXRoaXM7XG4gICAgdmFyICR1cGxvYWRCdG49JChcIiN0aHVtYm5haWwtYnRuXCIpOyBcbiAgICAkdXBsb2FkQnRuLmNoYW5nZShmdW5jdGlvbigpe1xuICAgICAgICB2YXIgZmlsZT10aGlzLmZpbGVzWzBdO1xuICAgICAgICB4ZnphamF4LmdldCh7XG4gICAgICAgICAgICBcInVybFwiOiBcIi9jbXMvcW50b2tlbi9cIixcbiAgICAgICAgICAgIFwic3VjY2Vzc1wiOiBmdW5jdGlvbihyZXN1bHQpe1xuICAgICAgICAgICAgICAgIGlmKHJlc3VsdFtcImNvZGVcIl09PTIwMCl7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0b2tlbj1yZXN1bHRbXCJkYXRhXCJdW1widG9rZW5cIl07XG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXk9KG5ldyBEYXRlKCkpLmdldFRpbWUoKSsnLicrZmlsZS5uYW1lLnNwbGl0KCcuJylbMV07XG4gICAgICAgICAgICAgICAgICAgIHZhciBwdXRFeHRyYT17XG4gICAgICAgICAgICAgICAgICAgICAgICBmbmFtZToga2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbWVUeXBlOiBbXCJpbWFnZS9naWZcIiwgXCJpbWFnZS9wbmdcIiwgXCJpbWFnZS9qcGVnXCIsIFwiaW1hZ2UvYm1wXCIsIFwiaW1hZ2Uvd2VicFwiXVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29uZmlnPXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZUNkbkRvbWFpbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHJ5Q291bnQ6IDYsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWdpb246IHFpbml1LnJlZ2lvbi56MlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBvYnNlcnZhYmxlPXFpbml1LnVwbG9hZChmaWxlLCBrZXksIHRva2VuLCBwdXRFeHRyYSwgY29uZmlnKTtcbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2YWJsZS5zdWJzY3JpYmUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibmV4dFwiOiBzZWxmLmhhbmRsZUZpbGVVcGxvYWRQcm9ncmVzcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImVycm9yXCI6IHNlbGYuaGFuZGxlRmlsZVVwbG9hZEVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY29tcGxldGVcIjogc2VsZi5oYW5kbGVGaWxlVXBsb2FkQ29tcGxldGVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH0pXG59O1xuTmV3cy5wcm90b3R5cGUubGlzdGVuU3VibWl0RXZlbnQ9ZnVuY3Rpb24oKXtcbiAgICB2YXIgc2VsZj10aGlzO1xuICAgIHZhciAkc3VibWl0QnRuPSQoXCIjc3VibWl0LWJ0blwiKTtcbiAgICAkc3VibWl0QnRuLmNsaWNrKGZ1bmN0aW9uKGV2ZW50KXtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdmFyIHRpdGxlPSQoXCIjdGl0bGUtZm9ybVwiKS52YWwoKTtcbiAgICAgICAgdmFyIGNhdGVnb3J5X3BrPSQoXCIjY2F0ZWdvcnktZm9ybVwiKS52YWwoKTtcbiAgICAgICAgdmFyIGRlc2M9JChcIiNkZXNjLWZvcm1cIikudmFsKCk7XG4gICAgICAgIHZhciB0aHVtYm5haWw9JChcIiN0aHVtYm5haWwtZm9ybVwiKS52YWwoKTtcbiAgICAgICAgdmFyIGNvbnRlbnQ9c2VsZi4kdWUuZ2V0Q29udGVudCgpO1xuICAgICAgICB2YXIgbmV3c19waz0kKHRoaXMpLmF0dHIoXCJkYXRhLW5ld3MtaWRcIik7XG4gICAgICAgIGlmKG5ld3NfcGspe1xuICAgICAgICAgICAgdXJsPVwiL2Ntcy9lZGl0X25ld3MvXCI7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgdXJsPVwiL2Ntcy93cml0ZV9uZXdzL1wiO1xuICAgICAgICB9XG4gICAgICAgIHhmemFqYXgucG9zdCh7XG4gICAgICAgICAgICBcInVybFwiOiB1cmwsXG4gICAgICAgICAgICBcImRhdGFcIjoge1xuICAgICAgICAgICAgICAgIFwidGl0bGVcIjogdGl0bGUsXG4gICAgICAgICAgICAgICAgXCJjYXRlZ29yeV9wa1wiOiBjYXRlZ29yeV9wayxcbiAgICAgICAgICAgICAgICBcImRlc2NcIjogZGVzYyxcbiAgICAgICAgICAgICAgICBcInRodW1ibmFpbFwiOiB0aHVtYm5haWwsXG4gICAgICAgICAgICAgICAgXCJjb250ZW50XCI6IGNvbnRlbnQsXG4gICAgICAgICAgICAgICAgXCJuZXdzX3BrXCI6IG5ld3NfcGtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcInN1Y2Nlc3NcIjogZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAgICAgICAgICAgICBpZihyZXN1bHRbXCJjb2RlXCJdPT0yMDApe1xuICAgICAgICAgICAgICAgICAgICBpZihuZXdzX3BrKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHhmemFsZXJ0LmFsZXJ0U3VjY2VzcyhcIuaWsOmXu+S/ruaUueaIkOWKn1wiLGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWY9XCIvY21zL25ld3NfbGlzdC9cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHhmemFsZXJ0LmFsZXJ0U3VjY2VzcyhcIuaWsOmXu+WPkeW4g+aIkOWKn1wiLGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn07XG5OZXdzLnByb3RvdHlwZS5oYW5kbGVGaWxlVXBsb2FkUHJvZ3Jlc3M9ZnVuY3Rpb24ocmVzcG9uc2Upe1xuICAgIHZhciB0b3RhbD1yZXNwb25zZS50b3RhbDtcbiAgICB2YXIgcGVyY2VudD10b3RhbC5wZXJjZW50LnRvRml4ZWQoMCkrXCIlXCI7XG4gICAgTmV3cy4kcHJvZ3Jlc3NHcm91cC5zaG93KCk7XG4gICAgTmV3cy4kcHJvZ3Jlc3NCYXIuY3NzKHtcIndpZHRoXCI6IHBlcmNlbnR9KTtcbiAgICBOZXdzLiRwcm9ncmVzc0Jhci50ZXh0KHBlcmNlbnQpO1xufTtcbk5ld3MucHJvdG90eXBlLmhhbmRsZUZpbGVVcGxvYWRFcnJvcj1mdW5jdGlvbihlcnJvcil7XG4gICAgd2luZG93Lm1lc3NhZ2VCb3guc2hvd0Vycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgIE5ld3MuJHByb2dyZXNzR3JvdXAuaGlkZSgpO1xufTtcbk5ld3MucHJvdG90eXBlLmhhbmRsZUZpbGVVcGxvYWRDb21wbGV0ZT1mdW5jdGlvbihyZXNwb25zZSl7XG4gICAgTmV3cy4kcHJvZ3Jlc3NHcm91cC5oaWRlKCk7XG4gICAgTmV3cy4kcHJvZ3Jlc3NCYXIuY3NzKHtcIndpZHRoXCI6IDB9KTtcbiAgICBOZXdzLiRwcm9ncmVzc0Jhci50ZXh0KDApO1xuICAgIHZhciBkb21haW49J3BpbWxhdGJ3bi5ia3QuY2xvdWRkbi5jb20vJ1xuICAgIHZhciBmaWxlbmFtZT1yZXNwb25zZS5rZXk7XG4gICAgdmFyIHVybD1kb21haW4rZmlsZW5hbWU7XG4gICAgTmV3cy4kdGh1bWJuYWlsSW5wdXQudmFsKHVybCk7XG59O1xuIl19
