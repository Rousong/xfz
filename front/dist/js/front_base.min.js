function Auth(){var t=this;t.$maskWrapper=$(".mask-wrapper"),t.$scrollWrapper=$(".scroll-wrapper"),t.$smsCaptcha=$(".sms-captcha-btn")}function FrontBase(){}$(function(){var t=new Auth,n=new FrontBase;t.run(),n.run()}),Auth.prototype.run=function(){var t=this;t.listenShowHideEvent(),t.listenSwitchEvent(),t.listenSigninEvent(),t.listenSignupEvent(),t.listenImgCaptchaEvent(),t.listenSmsCaptcahEvent()},Auth.prototype.listenShowHideEvent=function(){var t=this,n=$(".signin-btn"),s=$(".signup-btn"),e=$(".close-btn");n.click(function(){t.showEvent(),t.$scrollWrapper.css({left:0})}),s.click(function(){t.showEvent(),t.$scrollWrapper.css({left:-400})}),e.click(function(){t.hideEvent()})},Auth.prototype.listenSwitchEvent=function(){var n=this;$(".switch").click(function(){var t=n.$scrollWrapper.css("left");(t=parseInt(t))<0?n.$scrollWrapper.css({left:0}):n.$scrollWrapper.css({left:-400})})},Auth.prototype.listenSigninEvent=function(){var t=$(".signin-group"),e=t.find("input[name='telephone']"),a=t.find("input[name='password']"),i=t.find("input[name='remember']");t.find(".submit-btn").click(function(){var t=e.val(),n=a.val(),s=i.prop("checked");xfzajax.post({url:"/account/login/",data:{telephone:t,password:n,remember:s},success:function(t){200==t.code&&window.location.reload()}})})},Auth.prototype.listenSignupEvent=function(){var t=$(".signup-group"),o=t.find("input[name='telephone']"),c=t.find("input[name='username']"),r=t.find("input[name='img_captcha']"),p=t.find("input[name='password1']"),l=t.find("input[name='password2']"),u=t.find("input[name='sms_captcha']");t.find(".submit-btn").click(function(){var t=o.val(),n=c.val(),s=r.val(),e=p.val(),a=l.val(),i=u.val();xfzajax.post({url:"/account/register/",data:{telephone:t,username:n,img_captcha:s,password1:e,password2:a,sms_captcha:i},success:function(t){200==t.code&&window.location.reload()}})})},Auth.prototype.listenImgCaptchaEvent=function(){var t=$(".img-captcha");t.click(function(){t.attr({src:"/account/img_captcha/?random="+Math.random()})})},Auth.prototype.listenSmsCaptcahEvent=function(){var n=this,s=$(".signup-group input[name='telephone']");n.$smsCaptcha.click(function(){var t=s.val();t?xfzajax.get({url:"/account/sms_captcha/",data:{telephone:t},success:function(t){200==t.code&&n.smsSuccessEvent()},fail:function(t){console.log(t)}}):messageBox.showInfo("请输入手机号码！")})},Auth.prototype.showEvent=function(){this.$maskWrapper.show()},Auth.prototype.hideEvent=function(){this.$maskWrapper.hide()},Auth.prototype.smsSuccessEvent=function(){var t=this;messageBox.showSuccess("短信验证码发送成功！"),t.$smsCaptcha.addClass("disabled"),t.$smsCaptcha.unbind("click");var n=60,s=setInterval(function(){t.$smsCaptcha.text(n+"s"),--n<=0&&(clearInterval(s),t.$smsCaptcha.removeClass("disabled"),t.$smsCaptcha.text("发送验证码"),t.listenSmsCaptcahEvent())},1e3)},FrontBase.prototype.run=function(){this.listenAuthBoxHover(),this.listenNavStatus()},FrontBase.prototype.listenAuthBoxHover=function(){var t=$(".auth-box"),n=$(".user-more-box");t.hover(function(){n.show()},function(){n.hide()})},FrontBase.prototype.listenNavStatus=function(){var t=window.location.pathname,n=$(".nav li");t.startsWith("/news/search")?n.eq(3).addClass("active").siblings().removeClass("active"):t.startsWith("/payinfo")?n.eq(2).addClass("active").siblings().removeClass("active"):t.startsWith("/course")?n.eq(1).addClass("active").siblings().removeClass("active"):n.eq(0).addClass("active").siblings().removeClass("active")};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZyb250X2Jhc2UuanMiXSwibmFtZXMiOlsiQXV0aCIsInNlbGYiLCJ0aGlzIiwiJG1hc2tXcmFwcGVyIiwiJCIsIiRzY3JvbGxXcmFwcGVyIiwiJHNtc0NhcHRjaGEiLCJGcm9udEJhc2UiLCJhdXRoIiwiZnJvbnRCYXNlIiwicnVuIiwicHJvdG90eXBlIiwibGlzdGVuU2hvd0hpZGVFdmVudCIsImxpc3RlblN3aXRjaEV2ZW50IiwibGlzdGVuU2lnbmluRXZlbnQiLCJsaXN0ZW5TaWdudXBFdmVudCIsImxpc3RlbkltZ0NhcHRjaGFFdmVudCIsImxpc3RlblNtc0NhcHRjYWhFdmVudCIsIiRzaWduaW5CdG4iLCIkc2lnbnVwQnRuIiwiJGNsb3NlQnRuIiwiY2xpY2siLCJzaG93RXZlbnQiLCJjc3MiLCJsZWZ0IiwiaGlkZUV2ZW50IiwiY3VycmVudExlZnQiLCJwYXJzZUludCIsIiRzaWduaW5Hcm91cCIsIiR0ZWxlcGhvbmVJbnB1dCIsImZpbmQiLCIkcGFzc3dvcmRJbnB1dCIsIiRyZW1lbWJlcklucHV0IiwidGVsZXBob25lIiwidmFsIiwicGFzc3dvcmQiLCJyZW1lbWJlciIsInByb3AiLCJ4ZnphamF4IiwicG9zdCIsInVybCIsImRhdGEiLCJzdWNjZXNzIiwicmVzdWx0Iiwid2luZG93IiwibG9jYXRpb24iLCJyZWxvYWQiLCIkc2lnbnVwR3JvdXAiLCIkdXNlcm5hbWVJbnB1dCIsIiRpbWdDYXB0Y2hhSW5wdXQiLCIkcGFzc3dvcmQxSW5wdXQiLCIkcGFzc3dvcmQySW5wdXQiLCIkc21zQ2FwdGNoYUlucHV0IiwidXNlcm5hbWUiLCJpbWdfY2FwdGNoYSIsInBhc3N3b3JkMSIsInBhc3N3b3JkMiIsInNtc19jYXB0Y2hhIiwiJGltZ0NhcHRjaGEiLCJhdHRyIiwic3JjIiwiTWF0aCIsInJhbmRvbSIsImdldCIsInNtc1N1Y2Nlc3NFdmVudCIsImZhaWwiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJtZXNzYWdlQm94Iiwic2hvd0luZm8iLCJzaG93IiwiaGlkZSIsInNob3dTdWNjZXNzIiwiYWRkQ2xhc3MiLCJ1bmJpbmQiLCJjb3VudCIsInRpbWVyIiwic2V0SW50ZXJ2YWwiLCJ0ZXh0IiwiY2xlYXJJbnRlcnZhbCIsInJlbW92ZUNsYXNzIiwibGlzdGVuQXV0aEJveEhvdmVyIiwibGlzdGVuTmF2U3RhdHVzIiwiJGF1dGhCb3giLCIkdXNlck1vcmVCb3giLCJob3ZlciIsInBhdGgiLCJwYXRobmFtZSIsIiRuYXZMaSIsInN0YXJ0c1dpdGgiLCJlcSIsInNpYmxpbmdzIl0sIm1hcHBpbmdzIjoiQUFNQSxTQUFTQSxPQUNMLElBQUlDLEVBQUtDLEtBQ1RELEVBQUtFLGFBQWFDLEVBQUUsaUJBQ3BCSCxFQUFLSSxlQUFlRCxFQUFFLG1CQUN0QkgsRUFBS0ssWUFBWUYsRUFBRSxvQkErSnZCLFNBQVNHLGFBektUSCxFQUFFLFdBQ0UsSUFBSUksRUFBSyxJQUFJUixLQUNUUyxFQUFVLElBQUlGLFVBQ2xCQyxFQUFLRSxNQUNMRCxFQUFVQyxRQVFkVixLQUFLVyxVQUFVRCxJQUFJLFdBQ2YsSUFBSVQsRUFBS0MsS0FDVEQsRUFBS1csc0JBQ0xYLEVBQUtZLG9CQUNMWixFQUFLYSxvQkFDTGIsRUFBS2Msb0JBQ0xkLEVBQUtlLHdCQUNMZixFQUFLZ0IseUJBRVRqQixLQUFLVyxVQUFVQyxvQkFBb0IsV0FDL0IsSUFBSVgsRUFBS0MsS0FDTGdCLEVBQVdkLEVBQUUsZUFDYmUsRUFBV2YsRUFBRSxlQUNiZ0IsRUFBVWhCLEVBQUUsY0FDaEJjLEVBQVdHLE1BQU0sV0FDYnBCLEVBQUtxQixZQUNMckIsRUFBS0ksZUFBZWtCLElBQUksQ0FBQ0MsS0FBUSxNQUVyQ0wsRUFBV0UsTUFBTSxXQUNicEIsRUFBS3FCLFlBQ0xyQixFQUFLSSxlQUFla0IsSUFBSSxDQUFDQyxNQUFTLFFBRXRDSixFQUFVQyxNQUFNLFdBQ1pwQixFQUFLd0IsZUFHYnpCLEtBQUtXLFVBQVVFLGtCQUFrQixXQUM3QixJQUFJWixFQUFLQyxLQUNHRSxFQUFFLFdBQ05pQixNQUFNLFdB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WCxNQUdOVixVQUFVSSxVQUFVRCxJQUFJLFdBQ1hSLEtBQ0pnRixxQkFESWhGLEtBRUppRixtQkFFVDVFLFVBQVVJLFVBQVV1RSxtQkFBbUIsV0FDbkMsSUFBSUUsRUFBU2hGLEVBQUUsYUFDWGlGLEVBQWFqRixFQUFFLGtCQUNuQmdGLEVBQVNFLE1BQU0sV0FDWEQsRUFBYWQsUUFDZixXQUNFYyxFQUFhYixVQUdyQmpFLFVBQVVJLFVBQVV3RSxnQkFBZ0IsV0FDaEMsSUFBSUksRUFBSzNDLE9BQU9DLFNBQVMyQyxTQUNyQkMsRUFBT3JGLEVBQUUsV0FDVm1GLEVBQUtHLFdBQVcsZ0JBQ2ZELEVBQU9FLEdBQUcsR0FBR2pCLFNBQVMsVUFBVWtCLFdBQVdYLFlBQVksVUFDbERNLEVBQUtHLFdBQVcsWUFDckJELEVBQU9FLEdBQUcsR0FBR2pCLFNBQVMsVUFBVWtCLFdBQVdYLFlBQVksVUFDbERNLEVBQUtHLFdBQVcsV0FDckJELEVBQU9FLEdBQUcsR0FBR2pCLFNBQVMsVUFBVWtCLFdBQVdYLFlBQVksVUFFdkRRLEVBQU9FLEdBQUcsR0FBR2pCLFNBQVMsVUFBVWtCLFdBQVdYLFlBQVkiLCJmaWxlIjoiZnJvbnRfYmFzZS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIkKGZ1bmN0aW9uKCl7XG4gICAgdmFyIGF1dGg9bmV3IEF1dGgoKTtcbiAgICB2YXIgZnJvbnRCYXNlPW5ldyBGcm9udEJhc2UoKTsgXG4gICAgYXV0aC5ydW4oKTtcbiAgICBmcm9udEJhc2UucnVuKCk7XG59KTtcbmZ1bmN0aW9uIEF1dGgoKXtcbiAgICB2YXIgc2VsZj10aGlzO1xuICAgIHNlbGYuJG1hc2tXcmFwcGVyPSQoXCIubWFzay13cmFwcGVyXCIpO1xuICAgIHNlbGYuJHNjcm9sbFdyYXBwZXI9JChcIi5zY3JvbGwtd3JhcHBlclwiKTtcbiAgICBzZWxmLiRzbXNDYXB0Y2hhPSQoXCIuc21zLWNhcHRjaGEtYnRuXCIpO1xufTtcbkF1dGgucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpe1xuICAgIHZhciBzZWxmPXRoaXM7XG4gICAgc2VsZi5saXN0ZW5TaG93SGlkZUV2ZW50KCk7XG4gICAgc2VsZi5saXN0ZW5Td2l0Y2hFdmVudCgpO1xuICAgIHNlbGYubGlzdGVuU2lnbmluRXZlbnQoKTtcbiAgICBzZWxmLmxpc3RlblNpZ251cEV2ZW50KCk7XG4gICAgc2VsZi5saXN0ZW5JbWdDYXB0Y2hhRXZlbnQoKTtcbiAgICBzZWxmLmxpc3RlblNtc0NhcHRjYWhFdmVudCgpO1xufTtcbkF1dGgucHJvdG90eXBlLmxpc3RlblNob3dIaWRlRXZlbnQ9ZnVuY3Rpb24oKXtcbiAgICB2YXIgc2VsZj10aGlzO1xuICAgIHZhciAkc2lnbmluQnRuPSQoXCIuc2lnbmluLWJ0blwiKTsgXG4gICAgdmFyICRzaWdudXBCdG49JChcIi5zaWdudXAtYnRuXCIpOyBcbiAgICB2YXIgJGNsb3NlQnRuPSQoXCIuY2xvc2UtYnRuXCIpO1xuICAgICRzaWduaW5CdG4uY2xpY2soZnVuY3Rpb24oKXtcbiAgICAgICAgc2VsZi5zaG93RXZlbnQoKTtcbiAgICAgICAgc2VsZi4kc2Nyb2xsV3JhcHBlci5jc3Moe1wibGVmdFwiOiAwfSk7XG4gICAgfSk7XG4gICAgJHNpZ251cEJ0bi5jbGljayhmdW5jdGlvbigpe1xuICAgICAgICBzZWxmLnNob3dFdmVudCgpO1xuICAgICAgICBzZWxmLiRzY3JvbGxXcmFwcGVyLmNzcyh7XCJsZWZ0XCI6IC00MDB9KTtcbiAgICB9KTtcbiAgICAkY2xvc2VCdG4uY2xpY2soZnVuY3Rpb24oKXtcbiAgICAgICAgc2VsZi5oaWRlRXZlbnQoKTtcbiAgICB9KTtcbn07XG5BdXRoLnByb3RvdHlwZS5saXN0ZW5Td2l0Y2hFdmVudD1mdW5jdGlvbigpe1xuICAgIHZhciBzZWxmPXRoaXM7XG4gICAgdmFyICRzd2l0Y2g9JChcIi5zd2l0Y2hcIik7XG4gICAgJHN3aXRjaC5jbGljayhmdW5jdGlvbigpe1xuICAgICAgICB2YXIgY3VycmVudExlZnQ9c2VsZi4kc2Nyb2xsV3JhcHBlci5jc3MoXCJsZWZ0XCIpO1xuICAgICAgICBjdXJyZW50TGVmdD1wYXJzZUludChjdXJyZW50TGVmdCk7XG4gICAgICAgIGlmKGN1cnJlbnRMZWZ0PDApe1xuICAgICAgICAgICAgc2VsZi4kc2Nyb2xsV3JhcHBlci5jc3Moe1wibGVmdFwiOiAwfSk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgc2VsZi4kc2Nyb2xsV3JhcHBlci5jc3Moe1wibGVmdFwiOiAtNDAwfSlcbiAgICAgICAgfVxuICAgIH0pO1xufTtcbkF1dGgucHJvdG90eXBlLmxpc3RlblNpZ25pbkV2ZW50PWZ1bmN0aW9uKCl7XG4gICAgdmFyIHNlbGY9dGhpcztcbiAgICB2YXIgJHNpZ25pbkdyb3VwPSQoXCIuc2lnbmluLWdyb3VwXCIpO1xuICAgIHZhciAkdGVsZXBob25lSW5wdXQ9JHNpZ25pbkdyb3VwLmZpbmQoXCJpbnB1dFtuYW1lPSd0ZWxlcGhvbmUnXVwiKTtcbiAgICB2YXIgJHBhc3N3b3JkSW5wdXQ9JHNpZ25pbkdyb3VwLmZpbmQoXCJpbnB1dFtuYW1lPSdwYXNzd29yZCddXCIpO1xuICAgIHZhciAkcmVtZW1iZXJJbnB1dD0kc2lnbmluR3JvdXAuZmluZChcImlucHV0W25hbWU9J3JlbWVtYmVyJ11cIik7XG4gICAgdmFyICRzdWJtaXRCdG49JHNpZ25pbkdyb3VwLmZpbmQoXCIuc3VibWl0LWJ0blwiKTtcbiAgICAkc3VibWl0QnRuLmNsaWNrKGZ1bmN0aW9uKCl7XG4gICAgICAgIHZhciB0ZWxlcGhvbmU9JHRlbGVwaG9uZUlucHV0LnZhbCgpO1xuICAgICAgICB2YXIgcGFzc3dvcmQ9JHBhc3N3b3JkSW5wdXQudmFsKCk7XG4gICAgICAgIHZhciByZW1lbWJlcj0kcmVtZW1iZXJJbnB1dC5wcm9wKFwiY2hlY2tlZFwiKTtcbiAgICAgICAgeGZ6YWpheC5wb3N0KHtcbiAgICAgICAgICAgIFwidXJsXCI6IFwiL2FjY291bnQvbG9naW4vXCIsXG4gICAgICAgICAgICBcImRhdGFcIjp7XG4gICAgICAgICAgICAgICAgXCJ0ZWxlcGhvbmVcIjogdGVsZXBob25lLFxuICAgICAgICAgICAgICAgIFwicGFzc3dvcmRcIjogcGFzc3dvcmQsXG4gICAgICAgICAgICAgICAgXCJyZW1lbWJlclwiOiByZW1lbWJlclxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwic3VjY2Vzc1wiOiBmdW5jdGlvbihyZXN1bHQpe1xuICAgICAgICAgICAgICAgIGlmKHJlc3VsdFtcImNvZGVcIl09PTIwMCl7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9KTsgXG59O1xuQXV0aC5wcm90b3R5cGUubGlzdGVuU2lnbnVwRXZlbnQ9ZnVuY3Rpb24oKXtcbiAgICB2YXIgc2VsZj10aGlzO1xuICAgIHZhciAkc2lnbnVwR3JvdXA9JChcIi5zaWdudXAtZ3JvdXBcIik7XG4gICAgdmFyICR0ZWxlcGhvbmVJbnB1dD0kc2lnbnVwR3JvdXAuZmluZChcImlucHV0W25hbWU9J3RlbGVwaG9uZSddXCIpOyBcbiAgICB2YXIgJHVzZXJuYW1lSW5wdXQ9JHNpZ251cEdyb3VwLmZpbmQoXCJpbnB1dFtuYW1lPSd1c2VybmFtZSddXCIpOyBcbiAgICB2YXIgJGltZ0NhcHRjaGFJbnB1dD0kc2lnbnVwR3JvdXAuZmluZChcImlucHV0W25hbWU9J2ltZ19jYXB0Y2hhJ11cIik7IFxuICAgIHZhciAkcGFzc3dvcmQxSW5wdXQ9JHNpZ251cEdyb3VwLmZpbmQoXCJpbnB1dFtuYW1lPSdwYXNzd29yZDEnXVwiKTsgXG4gICAgdmFyICRwYXNzd29yZDJJbnB1dD0kc2lnbnVwR3JvdXAuZmluZChcImlucHV0W25hbWU9J3Bhc3N3b3JkMiddXCIpOyBcbiAgICB2YXIgJHNtc0NhcHRjaGFJbnB1dD0kc2lnbnVwR3JvdXAuZmluZChcImlucHV0W25hbWU9J3Ntc19jYXB0Y2hhJ11cIik7IFxuICAgIHZhciAkc3VibWl0QnRuPSRzaWdudXBHcm91cC5maW5kKFwiLnN1Ym1pdC1idG5cIik7XG4gICAgJHN1Ym1pdEJ0bi5jbGljayhmdW5jdGlvbigpe1xuICAgICAgICB2YXIgdGVsZXBob25lPSR0ZWxlcGhvbmVJbnB1dC52YWwoKTtcbiAgICAgICAgdmFyIHVzZXJuYW1lPSR1c2VybmFtZUlucHV0LnZhbCgpO1xuICAgICAgICB2YXIgaW1nX2NhcHRjaGE9JGltZ0NhcHRjaGFJbnB1dC52YWwoKTtcbiAgICAgICAgdmFyIHBhc3N3b3JkMT0kcGFzc3dvcmQxSW5wdXQudmFsKCk7XG4gICAgICAgIHZhciBwYXNzd29yZDI9JHBhc3N3b3JkMklucHV0LnZhbCgpO1xuICAgICAgICB2YXIgc21zX2NhcHRjaGE9JHNtc0NhcHRjaGFJbnB1dC52YWwoKTtcbiAgICAgICAgeGZ6YWpheC5wb3N0KHtcbiAgICAgICAgICAgIFwidXJsXCI6IFwiL2FjY291bnQvcmVnaXN0ZXIvXCIsXG4gICAgICAgICAgICBcImRhdGFcIjoge1xuICAgICAgICAgICAgICAgIFwidGVsZXBob25lXCI6IHRlbGVwaG9uZSxcbiAgICAgICAgICAgICAgICBcInVzZXJuYW1lXCI6IHVzZXJuYW1lLFxuICAgICAgICAgICAgICAgIFwiaW1nX2NhcHRjaGFcIjogaW1nX2NhcHRjaGEsXG4gICAgICAgICAgICAgICAgXCJwYXNzd29yZDFcIjogcGFzc3dvcmQxLFxuICAgICAgICAgICAgICAgIFwicGFzc3dvcmQyXCI6IHBhc3N3b3JkMixcbiAgICAgICAgICAgICAgICBcInNtc19jYXB0Y2hhXCI6IHNtc19jYXB0Y2hhXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJzdWNjZXNzXCI6IGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgICAgICAgICAgICAgaWYocmVzdWx0W1wiY29kZVwiXT09MjAwKXtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pXG4gICAgfSk7XG5cbn07XG5BdXRoLnByb3RvdHlwZS5saXN0ZW5JbWdDYXB0Y2hhRXZlbnQ9ZnVuY3Rpb24oKXtcbiAgICB2YXIgJGltZ0NhcHRjaGE9JChcIi5pbWctY2FwdGNoYVwiKTtcbiAgICAkaW1nQ2FwdGNoYS5jbGljayhmdW5jdGlvbigpe1xuICAgICAgICAkaW1nQ2FwdGNoYS5hdHRyKHtcInNyY1wiOlwiL2FjY291bnQvaW1nX2NhcHRjaGEvXCIrXCI/cmFuZG9tPVwiK01hdGgucmFuZG9tKCl9KVxuICAgIH0pO1xufTtcbkF1dGgucHJvdG90eXBlLmxpc3RlblNtc0NhcHRjYWhFdmVudD1mdW5jdGlvbigpe1xuICAgIHZhciBzZWxmPXRoaXM7XG4gICAgdmFyICR0ZWxlcGhvbmVJbnB1dD0kKFwiLnNpZ251cC1ncm91cCBpbnB1dFtuYW1lPSd0ZWxlcGhvbmUnXVwiKTtcbiAgICBzZWxmLiRzbXNDYXB0Y2hhLmNsaWNrKGZ1bmN0aW9uKCl7XG4gICAgICAgIHZhciB0ZWxlcGhvbmU9JHRlbGVwaG9uZUlucHV0LnZhbCgpO1xuICAgICAgICBpZighdGVsZXBob25lKXtcbiAgICAgICAgICAgIG1lc3NhZ2VCb3guc2hvd0luZm8oXCLor7fovpPlhaXmiYvmnLrlj7fnoIHvvIFcIik7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgeGZ6YWpheC5nZXQoe1xuICAgICAgICAgICAgICAgIFwidXJsXCI6IFwiL2FjY291bnQvc21zX2NhcHRjaGEvXCIsXG4gICAgICAgICAgICAgICAgXCJkYXRhXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgXCJ0ZWxlcGhvbmVcIjogdGVsZXBob25lXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBcInN1Y2Nlc3NcIjogZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAgICAgICAgICAgICAgICAgaWYocmVzdWx0W1wiY29kZVwiXT09MjAwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc21zU3VjY2Vzc0V2ZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFwiZmFpbFwiOiBmdW5jdGlvbihlcnJvcil7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcbkF1dGgucHJvdG90eXBlLnNob3dFdmVudD1mdW5jdGlvbigpe1xuICAgIHZhciBzZWxmPXRoaXM7XG4gICAgc2VsZi4kbWFza1dyYXBwZXIuc2hvdygpO1xufTtcbkF1dGgucHJvdG90eXBlLmhpZGVFdmVudD1mdW5jdGlvbigpe1xuICAgIHZhciBzZWxmPXRoaXM7XG4gICAgc2VsZi4kbWFza1dyYXBwZXIuaGlkZSgpO1xufTtcbkF1dGgucHJvdG90eXBlLnNtc1N1Y2Nlc3NFdmVudD1mdW5jdGlvbigpe1xuICAgIHZhciBzZWxmPXRoaXM7XG4gICAgbWVzc2FnZUJveC5zaG93U3VjY2VzcyhcIuefreS/oemqjOivgeeggeWPkemAgeaIkOWKn++8gVwiKTtcbiAgICBzZWxmLiRzbXNDYXB0Y2hhLmFkZENsYXNzKFwiZGlzYWJsZWRcIik7XG4gICAgc2VsZi4kc21zQ2FwdGNoYS51bmJpbmQoXCJjbGlja1wiKTtcbiAgICB2YXIgY291bnQ9NjA7XG4gICAgdmFyIHRpbWVyPXNldEludGVydmFsKGZ1bmN0aW9uKCl7XG4gICAgICAgIHNlbGYuJHNtc0NhcHRjaGEudGV4dChjb3VudCtcInNcIik7XG4gICAgICAgIGNvdW50LS07XG4gICAgICAgIGlmKGNvdW50PD0wKXtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIpO1xuICAgICAgICAgICAgc2VsZi4kc21zQ2FwdGNoYS5yZW1vdmVDbGFzcyhcImRpc2FibGVkXCIpO1xuICAgICAgICAgICAgc2VsZi4kc21zQ2FwdGNoYS50ZXh0KFwi5Y+R6YCB6aqM6K+B56CBXCIpO1xuICAgICAgICAgICAgc2VsZi5saXN0ZW5TbXNDYXB0Y2FoRXZlbnQoKTtcbiAgICAgICAgfVxuICAgIH0sMTAwMCk7XG59O1xuZnVuY3Rpb24gRnJvbnRCYXNlKCl7fTtcbkZyb250QmFzZS5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7XG4gICAgdmFyIHNlbGY9dGhpcztcbiAgICBzZWxmLmxpc3RlbkF1dGhCb3hIb3ZlcigpO1xuICAgIHNlbGYubGlzdGVuTmF2U3RhdHVzKCk7XG59O1xuRnJvbnRCYXNlLnByb3RvdHlwZS5saXN0ZW5BdXRoQm94SG92ZXI9ZnVuY3Rpb24oKXtcbiAgICB2YXIgJGF1dGhCb3g9JChcIi5hdXRoLWJveFwiKTtcbiAgICB2YXIgJHVzZXJNb3JlQm94PSQoXCIudXNlci1tb3JlLWJveFwiKTtcbiAgICAkYXV0aEJveC5ob3ZlcihmdW5jdGlvbigpe1xuICAgICAgICAkdXNlck1vcmVCb3guc2hvdygpO1xuICAgIH0sZnVuY3Rpb24oKXtcbiAgICAgICAgJHVzZXJNb3JlQm94LmhpZGUoKTtcbiAgICB9KTtcbn07XG5Gcm9udEJhc2UucHJvdG90eXBlLmxpc3Rlbk5hdlN0YXR1cz1mdW5jdGlvbigpe1xuICAgIHZhciBwYXRoPXdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZTtcbiAgICB2YXIgJG5hdkxpPSQoXCIubmF2IGxpXCIpO1xuICAgIGlmKHBhdGguc3RhcnRzV2l0aChcIi9uZXdzL3NlYXJjaFwiKSl7XG4gICAgICAgICRuYXZMaS5lcSgzKS5hZGRDbGFzcyhcImFjdGl2ZVwiKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgIH1lbHNlIGlmKHBhdGguc3RhcnRzV2l0aChcIi9wYXlpbmZvXCIpKXtcbiAgICAgICAgJG5hdkxpLmVxKDIpLmFkZENsYXNzKFwiYWN0aXZlXCIpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgfWVsc2UgaWYocGF0aC5zdGFydHNXaXRoKFwiL2NvdXJzZVwiKSl7XG4gICAgICAgICRuYXZMaS5lcSgxKS5hZGRDbGFzcyhcImFjdGl2ZVwiKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgIH1lbHNle1xuICAgICAgICAkbmF2TGkuZXEoMCkuYWRkQ2xhc3MoXCJhY3RpdmVcIikuc2libGluZ3MoKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICB9XG59O1xuIl19
